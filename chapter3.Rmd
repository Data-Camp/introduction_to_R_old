---
title_meta: "Kapitel\_3"
title: Matrizen
description: >-
  In diesem Kapitel lernst du, wie du mit Matrizen in R arbeitest. Nachdem du
  das Kapitel absolviert hast, kannst du Matrizen erstellen und grundlegende
  Berechnungen mit ihnen durchführen. Zur Übung analysierst du die
  Einspielergebnisse der „Star Wars“-Filme und lernst, wie man Matrizen in R
  verwendet. Möge die Macht mit dir sein!
---

## Was ist eine Matrix?

```yaml
type: NormalExercise
key: d61aeba84c
xp: 100
skills:
  - 1
```

In R ist eine Matrix eine Sammlung von Elementen desselben Datentyps (numeric, character oder logical), die in einer festen Anzahl von Zeilen und Spalten angeordnet sind. Da du nur mit Zeilen und Spalten arbeitest, handelt es sich um eine zweidimensionale Matrix. 

In R kannst du eine Matrix mit der Funktion `matrix()` konstruieren. Betrachte das folgende Beispiel:

```
matrix(1:9, byrow = TRUE, nrow = 3)
```

In der `matrix()`-Funktion:

- Das erste Argument ist die Sammlung von Elementen, die R in den Zeilen und Spalten der Matrix anordnen wird. Hier verwenden wir `1:9`, eine Kurzform für `c(1, 2, 3, 4, 5, 6, 7, 8, 9)`.
- Das Argument `byrow` gibt an, dass die Matrix zeilenweise gefüllt wird. Möchten wir stattdessen die Matrix spaltenweise füllen, schreiben wir einfach `byrow = FALSE`. 
- Das dritte Argument, `nrow`, gibt an, dass die Matrix drei Zeilen haben soll.

`@instructions`
Erstelle eine Matrix mit drei Zeilen, die die Zahlen 1 bis 9 enthalten und zeilenweise gefüllt werden.

`@hint`
Lies die Aufgabe sorgfältig durch – die Lösung ist bereits enthalten!

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
```

`@solution`
```{r}
# Construct a matrix with 3 rows that contain the numbers 1 up to 9
matrix(1:9, byrow = TRUE, nrow = 3)
```

`@sct`
```{r}
ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "Hast du die Matrix korrekt erstellt? Sieh dir die Aufgabe an, die Antwort ist bereits gegeben!")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "Hast du die Matrix korrekt erstellt? Sieh dir die Aufgabe an, die Antwort ist bereits gegeben!")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "Hast du die Matrix korrekt erstellt? Sieh dir die Aufgabe an, die Antwort ist bereits gegeben!")
	}

ex() %>% check_output_expr("matrix(1:9, byrow=TRUE, nrow=3)",missing_msg = "Es scheint ein Problem mit der Matrixdefinition zu geben. Sieh dir die Aufgabe an, die Antwort ist bereits gegeben!")

success_msg("Großartig! Weiter zur nächsten Übung.")

```

---

## Matrizen analysieren

```yaml
type: NormalExercise
key: effc2fb945
xp: 100
skills:
  - 1
```

Jetzt ist es Zeit, die Ärmel hochzukrempeln! In den folgenden Übungen wirst du die Einspielergebnisse der „Star Wars“-Filmreihe analysieren. Möge die Macht mit dir sein! 

Im Editor werden drei Vektoren definiert. Sie enthalten jeweils die Einspielergebnisse der ersten drei „Star Wars“-Filme. Das erste Element jedes Vektors gibt die US-Einspielergebnisse an; das zweite Element bezieht sich auf die Einspielergebnisse außerhalb der USA. (Quelle: Wikipedia)

In dieser Übung kombinierst du all diese Zahlen in einem einzigen Vektor. Dann bildest du aus diesem Vektor eine Matrix.

`@instructions`
- Verwende `c(new_hope, empire_strikes, return_jedi)`, um die drei Vektoren zu einem Vektor zu kombinieren. Nenne diesen Vektor `box_office`.
- Erstelle eine Matrix mit drei Zeilen, wobei jede Zeile einen Film repräsentiert. Verwende dazu die Funktion `matrix()`. Das erste Argument ist der Vektor `box_office`, der alle Einspielergebnisse enthält. Dann musst du `nrow = 3` und `byrow = TRUE` eingeben. Nenne die resultierende Matrix `star_wars_matrix`.

`@hint`
- `box_office <- c(new_hope, empire_strikes, return_jedi)` fasst alle Zahlen in den verschiedenen Vektoren zu einem einzigen Vektor mit sechs Elementen zusammen.
- `matrix(box_office, nrow = ..., byrow =  ...)` ist eine Vorlage, mit der du die zweite Aufgabe lösen kannst.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- 

# Construct star_wars_matrix
star_wars_matrix <- 
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Create box_office
box_office <- c(new_hope, empire_strikes, return_jedi)

# Construct star_wars_matrix
star_wars_matrix <- matrix(box_office, nrow = 3, byrow = TRUE) 
```

`@sct`
```{r}
msg <- "Ändern Sie nichts an den Box-Office-Variablen `new_hope`, `empire_strikes` und `return_jedi`!"

ex() %>% check_object("new_hope", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("empire_strikes", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("return_jedi", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("box_office") %>% check_equal(incorrect_msg = "Haben Sie die Werte von `new_hope`, `empire_strikes` und `return_jedi` korrekt in den Vektor `box_office` kombiniert?")

ex() %>% check_function("matrix") %>% {
	check_arg(., 'data') %>% check_equal(incorrect_msg = "Stellen Sie sicher, dass Sie die Argumente, die Sie an `matrix()` übergeben, korrekt angeben: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'nrow') %>% check_equal(incorrect_msg = "Stellen Sie sicher, dass Sie die Argumente, die Sie an `matrix()` übergeben, korrekt angeben: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	check_arg(., 'byrow') %>% check_equal(incorrect_msg = "Stellen Sie sicher, dass Sie die Argumente, die Sie an `matrix()` übergeben, korrekt angeben: `box_office`, `nrow = 3`, `by_row = TRUE`.")
	}

ex() %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = "Haben Sie das Ergebnis des `matrix()`-Aufrufs `star_wars_matrix` zugewiesen?")


success_msg("Die Macht ist tatsächlich mit dir! Fahren Sie mit der nächsten Übung fort.")

```

---

## Matrix benennen

```yaml
type: NormalExercise
key: f734e8bf74
xp: 100
skills:
  - 1
```

Damit du dir besser merken kannst, was in `star_wars_matrix` gespeichert ist, möchtest du die Namen der Filme für die Zeilen hinzufügen. Das hilft beim Lesen der Daten und ist auch nützlich, um bestimmte Elemente aus der Matrix auszuwählen. 

Ähnlich wie bei Vektoren kannst du Namen für die Zeilen und Spalten einer Matrix hinzufügen:

```
rownames(my_matrix) <- row_names_vector
colnames(my_matrix) <- col_names_vector
```

Wir haben zwei Vektoren für dich vorbereitet: `region` und `titles`. Du brauchst diese Vektoren, um die Spalten bzw. Zeilen von `star_wars_matrix` zu benennen.

`@instructions`
- Benutze `colnames()`, um die Spalten von `star_wars_matrix` mit dem Vektor `region` zu benennen.
- Benutze `rownames()`, um die Zeilen von `star_wars_matrix` mit dem Vektor `titles` zu benennen.
- Gib `star_wars_matrix` aus, um das Ergebnis deiner Arbeit zu sehen.

`@hint`
Du kannst `colnames(star_wars_matrix) <- region` verwenden, um die Spalten von `star_wars_matrix` zu benennen. Schreibe analog dazu den Code, um die Zeilen zu benennen.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region


# Name the rows with titles


# Print out star_wars_matrix
```

`@solution`
```{r}
# Box office Star Wars (in millions!)
new_hope <- c(460.998, 314.4)
empire_strikes <- c(290.475, 247.900)
return_jedi <- c(309.306, 165.8)

# Construct matrix
star_wars_matrix <- matrix(c(new_hope, empire_strikes, return_jedi), nrow = 3, byrow = TRUE)

# Vectors region and titles, used for naming
region <- c("US", "non-US")
titles <- c("A New Hope", "The Empire Strikes Back", "Return of the Jedi")

# Name the columns with region
colnames(star_wars_matrix) <- region

# Name the rows with titles
rownames(star_wars_matrix) <- titles

# Print out star_wars_matrix
star_wars_matrix
```

`@sct`
```{r}
msg <- "Ändern Sie nichts an den Box-Office-Variablen `new_hope`, `empire_strikes` und `return_jedi`!"

ex()  %>% check_object("new_hope", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("empire_strikes", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

ex()  %>% check_object("return_jedi", undefined_msg = msg)  %>% check_equal(incorrect_msg = msg)

msg <- "Ändern Sie nicht den Inhalt von `star_wars_matrix`; nur die Namen der Zeilen und Spalten!"

ex()  %>% check_object("star_wars_matrix") %>% check_equal(incorrect_msg = msg)

msg <- "Ändern Sie nichts an den `region` und `titles` Vektoren, die für Sie definiert wurden."

ex()  %>% check_object("region", undefined_msg = msg)  %>%  check_equal(incorrect_msg = msg)
ex() %>% check_object("titles", undefined_msg = msg) %>% check_equal( incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix") %>% check_equal(eq_condition = "equal",incorrect_msg = "Haben Sie die Zeilen- und Spaltennamen von `star_wars_matrix` korrekt gesetzt? Verwenden Sie `colnames(star_wars_matrix) <- region` für die Spaltennamen; machen Sie etwas Ähnliches, um die Zeilen zu benennen.")

ex() %>% check_output_expr("star_wars_matrix", missing_msg = "Vergessen Sie nicht, `star_wars_matrix` auszugeben, nachdem Sie die Zeilen und Spalten benannt haben.")

success_msg("Großartig! Sie sind auf dem Weg, ein R-Jedi zu werden! Fahren Sie mit der nächsten Übung fort.")
```

---

## Weltweite Einspielergebnisse berechnen

```yaml
type: NormalExercise
key: 3fd7499a12
xp: 100
skills:
  - 1
```

Damit ein Film in Hollywood zur echten Legende wird, sollten seine weltweiten Einspielergebnisse wirklich topp sein! 

Um die Gesamteinnahmen für die drei „Star Wars“-Filme zu berechnen, brauchst du die Summe aus der Spalte mit den US-Einspielergebnissen und der Spalte mit den Einspielergebnissen außerhalb der USA. 

In R berechnet die Funktion `rowSums()` bequem die Summen für jede Zeile einer Matrix. Diese Funktion erstellt einen neuen Vektor:

```
rowSums(my_matrix)
```

`@instructions`
Berechne die weltweiten Einspielergebnisse für die drei Filme und weise sie dem Vektor `worldwide_vector` zu.

`@hint`
`rowSums(star_wars_matrix)` berechnet die Summe jeder Zeile, also die gesamten Einspielergebnisse für jeden Film.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
                 "The Empire Strikes Back", 
                 "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# Calculate worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)
```

`@sct`
```{r}
msg <- "Ändern Sie nichts an den voreingestellten Variablen `box_office_all` und `star_wars_marix`!"

ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "Rufen Sie `rowSums()` für `star_wars_matrix` auf und speichern Sie das Ergebnis in `worldwide_vector`.")

success_msg("Gut gemacht! Weiter zur nächsten Übung.")
```

---

## Spalte für die weltweiten Einspielergebnisse hinzufügen

```yaml
type: NormalExercise
key: 86b87a8545
xp: 100
skills:
  - 1
```

In der vorigen Übung hast du den Vektor berechnet, der die weltweiten Einspielergebnisse für jeden der drei „Star Wars“-Filme enthält. Dieser Vektor ist jedoch noch nicht Teil von `star_wars_matrix`.

Um eine Spalte oder mehrere Spalten zu einer Matrix hinzuzufügen, kannst du die Funktion `cbind()` nutzen; dadurch werden Matrizen und/oder Vektoren spaltenweise zusammengeführt. Zum Beispiel: 

```
big_matrix <- cbind(matrix1, matrix2, vector1 ...)
```

`@instructions`
Füge `worldwide_vector` als neue Spalte zu `star_wars_matrix` hinzu und weise das Ergebnis `all_wars_matrix` zu. Verwende die Funktion `cbind()`.

`@hint`
In dieser Übung sollst du zwei Variablen an `cbind()` übergeben: `star_wars_matrix` und `worldwide_vector`, und zwar in dieser Reihenfolge. Weise das Ergebnis `all_wars_matrix` zu.

`@pre_exercise_code`
```{r}
# no pec
```

`@sample_code`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# Construct star_wars_matrix
box_office <- c(460.998, 314.4, 290.475, 247.900, 309.306, 165.8)
region <- c("US", "non-US")
titles <- c("A New Hope", 
            "The Empire Strikes Back", 
            "Return of the Jedi")
               
star_wars_matrix <- matrix(box_office, 
                      nrow = 3, byrow = TRUE,
                      dimnames = list(titles, region))

# The worldwide box office figures
worldwide_vector <- rowSums(star_wars_matrix)

# Bind the new variable worldwide_vector as a column to star_wars_matrix
all_wars_matrix <- cbind(star_wars_matrix, worldwide_vector)
```

`@sct`
```{r}
msg <- "Ändern Sie nichts an den voreingestellten Variablen `box_office_all` und `star_wars_marix`!"
ex() %>% check_object("box_office", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix", undefined_msg = msg) %>% check_equal(, incorrect_msg = msg)

ex() %>% check_object("worldwide_vector") %>% check_equal(incorrect_msg = "Speichern Sie das Ergebnis von `rowSums(star_wars_matrix)` in `worldwide_vector`.")


msg <- "Haben Sie `cbind()` korrekt verwendet, um `worldwide_vector` zu `star_wars_matrix` hinzuzufügen? Sie sollten `star_wars_matrix` und `world_wide_vector` an `cbind()` übergeben, in dieser Reihenfolge. Die resultierende Matrix, `all_wars_matrix`, sollte aus drei Zeilen und drei Spalten bestehen."
ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = msg)


success_msg("Gute Arbeit! Nachdem Sie eine Spalte zu einer Matrix hinzugefügt haben, ist der logische nächste Schritt das Hinzufügen von Zeilen. Lernen Sie im nächsten Übung, wie das geht.");

```

---

## Zeile hinzufügen

```yaml
type: NormalExercise
key: bcadb29139
xp: 100
skills:
  - 1
```

So wie jede Aktion eine Reaktion hat, gibt es auch für jede `cbind()`-Funktion eine `rbind()`-Funktion. (Wir haben zugegebenermaßen wenig Ahnung von Metaphern.) 

Dein R-Workspace, in dem alle von dir definierten Variablen „leben“ (siehe auch: [Workspace in R](http://www.statmethods.net/interface/workspace.html)), wurde bereits initialisiert und enthält zwei Matrizen:

- `star_wars_matrix` – unsere bereits genutzte Matrix mit Daten zur ursprünglichen Filmtrilogie und
- `star_wars_matrix2` – eine Matrix mit ähnlichen Daten zur Prequels-Trilogie. 

Schau dir diese Matrizen in der Konsole genauer an, wenn du magst. Um den Inhalt des Workspaces anzusehen, gib `ls()` in der Konsole ein.

`@instructions`
Benutze `rbind()`, um `star_wars_matrix` und `star_wars_matrix2` in dieser Reihenfolge zusammenzufügen. Weise die resultierende Matrix `all_wars_matrix` zu.

`@hint`
Verbinde die beiden Matrizen wie folgt miteinander:
```
rbind(matrix1, matrix2)
```
Weise das Ergebnis `all_wars_matrix` zu.

`@pre_exercise_code`
```{r}
# Construct matrix
box_office_all <- c(461, 314.4, 290.5, 247.9, 309.3, 165.8)
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi")
col_titles <- c("US","non-US")
star_wars_matrix <- matrix(box_office_all, nrow = 3, byrow = TRUE, dimnames = list(movie_names, col_titles))

# Construct matrix2
box_office_all2 <- c(474.5, 552.5, 310.7, 338.7, 380.3, 468.5)
movie_names2 <- c("The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
star_wars_matrix2 <- matrix(box_office_all2, nrow=3, byrow = TRUE, dimnames = list(movie_names2, col_titles))

# remove all except all_wars_matrix
rm(box_office_all)
rm(movie_names)
rm(col_titles)
rm(box_office_all2)
rm(movie_names2)
```

`@sample_code`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- 
```

`@solution`
```{r}
# star_wars_matrix and star_wars_matrix2 are available in your workspace
star_wars_matrix  
star_wars_matrix2 

# Combine both Star Wars trilogies in one matrix
all_wars_matrix <- rbind(star_wars_matrix, star_wars_matrix2)
```

`@sct`
```{r}
msg = "Überschreiben Sie nicht die Variablen, die für Sie im Arbeitsbereich definiert wurden (`star_wars_matrix` und `star_wars_matrix2`)."
ex() %>% check_object("star_wars_matrix",  undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("star_wars_matrix2", undefined_msg = msg) %>% check_equal(eq_condition = "equal",incorrect_msg = msg)

ex() %>% check_object("all_wars_matrix") %>% check_equal(incorrect_msg = "Haben Sie `rbind()` korrekt verwendet, um `all_wars_matrix()` zu erstellen? `rbind()` sollte zwei Argumente haben: `star_wars_matrix` und `star_wars_matrix2`, in dieser Reihenfolge.")


success_msg("Wunderbar! Machen Sie mit der nächsten Übung weiter und sehen Sie, wie Sie die Ergebnisse der `rbind()`-Funktion mit der `colSums()`-Funktion kombinieren können!")

```

---

## Gesamteinnahmen an den Kinokassen für die ganze Saga

```yaml
type: NormalExercise
key: 1bfe5ae096
xp: 100
skills:
  - 1
```

Ebenso wie `cbind()` und `rbind()` gibt es auch `colSums()` und `rowSums()`. Dein R-Workspace enthält bereits die Matrix `all_wars_matrix`, die du in der vorigen Übung erstellt hast. Gib `all_wars_matrix` ein, um sie dir noch einmal anzusehen. Berechnen wir nun die Gesamteinnahmen an den Kinokassen für die ganze Saga.

`@instructions`
- Berechne die Gesamteinnahmen für die US-Region und für den Rest der Welt ohne die USA; weise das Ergebnis `total_revenue_vector` zu. Du kannst die Funktion `colSums()` verwenden.
- Gib `total_revenue_vector` aus, um dir die Ergebnisse anzuschauen.

`@hint`
Du solltest die Funktion `colSums()` mit `star_wars_matrix` als Argument verwenden, um die gesamten Einspielergebnisse pro Region zu ermitteln.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- 
  
# Print out total_revenue_vector
```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Total revenue for US and non-US
total_revenue_vector <- colSums(all_wars_matrix)

# Print out total_revenue_vector
total_revenue_vector
```

`@sct`
```{r}
msg = "Ändern Sie nicht den Inhalt von `all_wars_matrix`; es wurde für Sie im Arbeitsbereich erstellt."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(eq_condition = "equal", incorrect_msg = msg)

ex() %>% check_function("colSums") %>% check_arg('x') %>% check_equal(incorrect_msg = "Haben Sie die Funktion `colSums()` auf der all_wars_matrix verwendet?")

ex() %>% check_object("total_revenue_vector") %>% check_equal(incorrect_msg = "Haben Sie das Ergebnis von `colSums(all_wars_matrix)` korrekt `total_revenue_vector` zugewiesen?")

ex() %>% check_output_expr("total_revenue_vector", missing_msg = "Vergessen Sie nicht, `total_revenue_vector` auszugeben!")

success_msg("Bellissimo! Gehen Sie zur nächsten Übung, um das Subsetting von Matrizen zu lernen.")
```

---

## Matrixelemente auswählen

```yaml
type: NormalExercise
key: 41d9d69713
xp: 100
skills:
  - 1
```

Ähnlich wie bei Vektoren kannst du mithilfe der eckigen Klammern `[ ]` Elemente aus einer Matrix auswählen. Während Vektoren eindimensional sind, haben Matrizen zwei Dimensionen. Du solltest daher ein Komma verwenden, um die auszuwählenden Zeilen von den Spalten zu trennen. Zum Beispiel: 

- `my_matrix[1,2]` wählt das Element in der ersten Zeile und zweiten Spalte aus.
- `my_matrix[1:3,2:4]` liefert eine Matrix mit den Daten in den Zeilen 1, 2, 3 und den Spalten 2, 3, 4.

Wenn du alle Elemente einer Zeile oder Spalte auswählen willst, brauchst du keine Zahl vor oder nach dem Komma:

- `my_matrix[,1]` wählt alle Elemente der ersten Spalte aus.
- `my_matrix[1,]` wählt alle Elemente der ersten Zeile aus.

Wenden wir dieses neue Wissen jetzt auf „Star Wars“ an! Wie in der vorigen Übung ist `all_wars_matrix` bereits in deinem Workspace verfügbar.

`@instructions`
- Wähle für alle Filme die weltweiten Einnahmen außerhalb der USA aus (die gesamte zweite Spalte von `all_wars_matrix`) und speichere das Ergebnis als `non_us_all`.
- Verwende `mean()` mit `non_us_all`, um die durchschnittlichen Einnahmen aller Filme außerhalb der USA zu berechnen. Gib das Ergebnis einfach aus.
- Nun wählst du die Einnahmen außerhalb der USA für die ersten beiden Filme in `all_wars_matrix` aus. Speichere das Ergebnis als `non_us_some`.
- Verwende erneut `mean()`, um den Durchschnitt der Werte in `non_us_some` auszugeben.

`@hint`
Du kannst die gesamte zweite Spalte einer Matrix `my_matrix` mit `my_matrix[,2]` auswählen.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- 
  
# Average non-US revenue

  
# Select the non-US revenue for first two movies
non_us_some <- 
  
# Average non-US revenue for first two movies

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Select the non-US revenue for all movies
non_us_all <- all_wars_matrix[,2]
  
# Average non-US revenue
mean(non_us_all)
  
# Select the non-US revenue for first two movies
non_us_some <- all_wars_matrix[1:2,2]
  
# Average non-US revenue for first two movies
mean(non_us_some)
```

`@sct`
```{r}
msg = "Ändern Sie nicht den Inhalt von `all_wars_matrix`; diese Matrix wurde bereits für Sie im Arbeitsbereich erstellt."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("non_us_all") %>% check_equal(incorrect_msg = "Haben Sie der gesamten zweiten Spalte von `all_wars_matrix` den Wert `non_us_all` zugewiesen? Sie können `[, 2]` verwenden, um dies zu tun!")

ex() %>% check_output_expr("mean(non_us_all)", missing_msg = "Haben Sie den Durchschnitt der Werte in `non_us_all` berechnet, indem Sie `mean(non_us_all)` aufgerufen haben? Geben Sie einfach das Ergebnis aus.")

ex() %>% check_object("non_us_some") %>% check_equal(incorrect_msg = "Haben Sie den nicht-US-Umsatz für die ersten beiden Filme `non_us_some` zugewiesen? Sie können `[1:2,2]` verwenden, um dies zu tun!")

ex() %>% check_output_expr("mean(non_us_some)", missing_msg = "Haben Sie den Durchschnitt der Werte in `non_us_some` berechnet, indem Sie `mean(non_us_some)` aufgerufen haben? Geben Sie einfach das Ergebnis aus.")

success_msg("Gut gemacht! Weiter zur nächsten Übung.")
```

---

## Ein wenig Arithmetik mit Matrizen

```yaml
type: NormalExercise
key: c81c656f06
xp: 100
skills:
  - 1
```

Ähnlich wie bei den Vektoren funktionieren die Standardoperatoren wie `+`, `-`, `/`, `*` usw. in R auch bei Matrizen elementweise. 

Zum Beispiel multipliziert `2 * my_matrix` jedes Element von `my_matrix` mit 2.

Als neu eingestellter Datenanalyseprofi bei Lucasfilm sollst du herausfinden, wie viele Leute sich die einzelnen Filme in den jeweiligen geografischen Regionen angeschaut haben. Die Gesamteinspielergebnisse hast du bereits in `all_wars_matrix`. Angenommen, der Preis für eine Kinokarte betrug 5 Dollar. Indem du die Kinobesucherzahlen durch diesen Kartenpreis teilst, erhältst du die Anzahl der Kinobesucher.

`@instructions`
- Teile `all_wars_matrix` durch 5 und du erhältst die Anzahl der Kinobesucher in Millionen. Weise die resultierende Matrix `visitors` zu.
- Gib `visitors` aus, damit du dir das Ergebnis ansehen kannst.

`@hint`
Die Anzahl der Kinobesucher ergibt sich aus `all_wars_matrix` geteilt durch 5.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
```

`@sample_code`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- 
  
# Print the estimate to the console

```

`@solution`
```{r}
# all_wars_matrix is available in your workspace
all_wars_matrix

# Estimate the visitors
visitors <- all_wars_matrix / 5

# Print the estimate to the console
visitors
```

`@sct`
```{r}
msg = "Ändern Sie nicht den Inhalt von `all_wars_matrix`; diese Matrix wurde bereits für Sie im Arbeitsbereich erstellt."

ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "Es sieht so aus, als ob `visitors` nicht korrekt ist. Teilen Sie einfach `all_wars_matrix` durch 5 und speichern Sie die resultierende Matrix als `visitors`.")

ex() %>% check_output_expr("visitors", missing_msg = "Vergessen Sie nicht, auch `visitors` auszugeben, damit Sie einen Blick darauf werfen können.")

success_msg("Großartig! Was sagen Ihnen diese Ergebnisse? Erstaunliche 92 Millionen Menschen haben sich A New Hope in US-Kinos angesehen! Fahren Sie mit der nächsten Übung fort.")
```

---

## Ein wenig Arithmetik mit Matrizen (2)

```yaml
type: NormalExercise
key: 1e0b39d6e9
xp: 100
skills:
  - 1
```

So wie durch `2 * my_matrix` jedes Element von `my_matrix` mit 2 multipliziert wird, erstellt `my_matrix1 * my_matrix2` eine Matrix, in der jedes Element dem Produkt der entsprechenden Elemente in `my_matrix1` und `my_matrix2` entspricht. 

Nachdem sich der Chef von Lucasfilm höchstpersönlich das Ergebnis der vorigen Übung angesehen hat, weist er darauf hin, dass die Kartenpreise doch im Laufe der Zeit gestiegen sind. Er bittet darum, die Analyse anhand der in `ticket_prices_matrix` enthaltenen Preise erneut durchzuführen. (Quelle: Phantasie)

_Wer mit Matrizen vertraut ist, sollte beachten, dass dies nicht die Standard-Matrixmultiplikation ist, für die in R `%*%` verwendet werden sollte._

`@instructions`
- Teile `all_wars_matrix` durch `ticket_prices_matrix`, um die geschätzte Anzahl der Kinobesucher in den USA und außerhalb der USA für die sechs Filme zu erhalten. Weise das Ergebnis `visitors` zu.
- Wähle aus der `visitors`-Matrix die gesamte erste Spalte aus, die die Anzahl der Kinobesucher in den USA darstellt. Speichere diese Auswahl als `us_visitors`.
- Berechne die durchschnittliche Anzahl der Kinobesucher in den USA und gib das Ergebnis aus.

`@hint`
- Du kannst mithilfe von `mean()` den Durchschnitt der Eingaben für die Funktion berechnen.
- Um die Anzahl der US-Kinobesucher zu erhalten, wähle die erste Spalte von `visitors` mit `visitors[ ,1]` aus.

`@pre_exercise_code`
```{r}
load(url("https://assets.datacamp.com/course/intro_to_r/all_wars_matrix.RData"))
movie_names <- c("A New Hope","The Empire Strikes Back","Return of the Jedi", "The Phantom Menace", "Attack of the Clones", "Revenge of the Sith")
col_titles <- c("US","non-US")
ticket_prices_matrix <- matrix(c(5, 5, 6, 6, 7, 7, 4, 4, 4.5, 4.5, 4.9, 4.9), nrow = 6, byrow = TRUE, dimnames = list(movie_names,col_titles))
```

`@sample_code`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- 

# US visitors
us_visitors <- 

# Average number of US visitors

```

`@solution`
```{r}
# all_wars_matrix and ticket_prices_matrix are available in your workspace
all_wars_matrix
ticket_prices_matrix

# Estimated number of visitors
visitors <- all_wars_matrix / ticket_prices_matrix

# US visitors
us_visitors <- visitors[ ,1]

# Average number of US visitors
mean(us_visitors)
```

`@sct`
```{r}
msg <- "Ändern Sie nicht den Inhalt von `all_wars_matrix`; diese Matrix wurde bereits für Sie im Arbeitsbereich erstellt."
ex() %>% check_object("all_wars_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("ticket_prices_matrix", undefined_msg = msg) %>% check_equal(incorrect_msg = msg)

ex() %>% check_object("visitors") %>% check_equal(incorrect_msg = "Haben Sie die `visitors`-Matrix korrekt erstellt? Sie sollten `all_wars_matrix` durch `ticket_prices_matrix` teilen, um dorthin zu gelangen.")

ex() %>% check_object("us_visitors") %>% check_equal(incorrect_msg = "Um `us_visitors` zu erstellen, sollten Sie die gesamte erste Spalte von `visitors` korrekt auswählen. Sie können dafür `[,1]` verwenden!")

ex() %>% check_output_expr("mean(us_visitors)", missing_msg = "Sobald Sie `us_visitors` erstellt haben, können Sie `mean()` verwenden, um die durchschnittliche Besucherzahl in den USA zu berechnen. Stellen Sie sicher, dass Sie das Ergebnis ausdrucken.")


success_msg("Es ist eine Tatsache: Die R-Kraft ist mit Ihnen! Diese Übung schließt das Kapitel über Matrizen ab. Nächster Halt auf Ihrer Reise durch die R-Sprache: Faktoren.")
```
